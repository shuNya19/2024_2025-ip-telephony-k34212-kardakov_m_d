

University: [ITMO University](https://itmo.ru/ru/)<br/>
Faculty: [FICT](https://fict.itmo.ru)<br/>
Course: [IP-telephony](https://github.com/itmo-ict-faculty/ip-telephony)<br/>
Year: 2024/2025<br/>
Group: K34212<br/>
Author: Kardakov Maxim Dmitrievich<br/>
Lab: Lab1<br/>
Date of create: 27.02.2025<br/>
Date of finished: 28.02.2025<br/>

## Отчёт о Лабораторной работе №1 <br/>"Базовая настройка ip-телефонов в среде Сisco packet tracer"

### Описание работы

Для выполнения данной лабораторной работы собирается схема соединения. Необходимо проверить, правильно ли подключены и настроены все узлы устройств.

### Цель работы

Изучить рабочую среду Cisco Packet Tracer, ознакомиться с интерфейсами основных устройств, типами кабелей, научиться собирать топологию. Изучить построение сети IP-телефонии с помощью маршрутизатора, коммутатора и IP телефонов Cisco 7960 в среде Packet tracer.

### Ход работы

#### Часть 1. Развёртка базовой схемы сети

В данном задании необходимо было реализовать базовую схему сети, состояющую из 7 конечных устройств (ПК) и 4-х коммутаторов (Switch-PT).  В логической проекции были выставлены устройства, коммутаторы были соеденеы между собой кросс-овер проводами, а от коммутаторов к комьпютерам шли стрейт-форвард провода.<br/><br/>

<img title="" src="https://github.com/user-attachments/assets/a6c1adb7-acdb-4920-adfc-187880ebb480" alt="" width="516"><br/><br/>

Далее необходимо было настроить влан на всех коммутаторах: а именно соотнести интерфейсы, выходящие к ПК, с vlan 1. Также необходимо было перевести интерфейсы между коммутаторами в режим trunk и открыть доступ для вланов.<br/><br/>

<img title="" src="https://github.com/user-attachments/assets/31ec0e25-7f97-47a8-a745-e303840b47fd" alt="" width="580"><br/><br/>

Для всех компьютеров были выданы адреса в рамках одной сети (192.168.0.10 - 192.168.0.16). Шлюз не было необходимости указывать, так как все устройства в итоге находятся в одной сети.<br/><br/>

<img title="" src="https://github.com/user-attachments/assets/f6cab91f-e599-47f9-b89b-27683da212d1" alt="" width="552"><br/><br/>

Все компьютеры и коммутаторы были настроены успешно, после чего была успешно проверена доступность (PC0 -> PC6)<br/><br/>

<img title="" src="https://github.com/user-attachments/assets/28180d20-ce56-4253-a1ed-aa850f9e3c0e" alt="" width="552"><br/><br/>

#### Итоговая схема

image

#### Часть 2. Развёртка схемы соединения IP-телефонов

#### 1. Собрать схему соединения, указанную на рисунке.

В новом файле, lab1_2, была воссоздана схема из изображения: один маршрутизатор, один коммутатор и два IP-телефона. Все соединения были выполнены с помощью стрейт-форворд проводов. <br/><br/>

<img title="" src="https://github.com/user-attachments/assets/b1ac6cc8-5662-4864-ba28-7efb88fd72b3" alt="" width="400"><br/>

#### 2. Изменить имя маршрутизатора на CMERouter.

Далее, в настройках маршрутизатора, была изменено отображаемое имя на CMERouter.<br/><br/>

<img title="" src="https://github.com/user-attachments/assets/c5ec8c42-95dc-4338-aea8-039af13eff0c" alt="" width="600"><br/>

#### 3. Настроить интерфейс fa0/0 на маршрутизаторе Cisco 2811 (CMERouter).

На CMERouter был настроен интерфейс fa0/0, а именно был добавлен ip address 192.168.1.1<br/><br/>

<img title="" src="https://github.com/user-attachments/assets/f945f837-97b2-4e95-ba13-d0d21c46a9cd" alt="" width="600"><br/>

#### 4. Настроить DHCP сервера для передачи голоса и данных на маршрутизаторе - Cisco 2811.

Для настройки DHCP с учетом телефонов, нам нужно два пула DHCP: один для данных (192.168.1.0/24) и один для голоса (192.168.2.0/24).<br/><br/>

<img title="" src="https://github.com/user-attachments/assets/d1821ad8-8bf4-4602-9203-6906280c76c3" alt="" width="600"><br/>

option 150: указывает IP-адрес TFTP-сервера (в данном случае маршрутизатор) для IP-телефонов.<br/>

#### 5. Настроить услуги телефонии Cisco CallManager Express на маршрутизаторе 2811.

<img title="" src="https://github.com/user-attachments/assets/28f43300-ef84-404e-bc88-80d36c4103a9" alt="" width="600">

- **max-ephones 2**: максимум 2 телефона.

- **max-dn 2**: максимум 2 номера (directory numbers).

- **ip source-address**: указывает адрес для SIP-трафика.

- **auto assign**: автоматически назначает номера телефонам.

#### 6. Настроить маршрутизацию сети.

Поскольку у нас две подсети (192.168.1.0/24 для данных и 192.168.2.0/24 для голоса), настроим подинтерфейсы на маршрутизаторе.<br/><br/>

<img title="" src="https://github.com/user-attachments/assets/e6eafb8e-e92e-49c2-bc38-31eeef4edeed" alt="" width="600"><br/>

- **dot1Q**: протокол для VLAN.

- **native**: VLAN 1 используется для данных без тегирования.

#### 7. Создать VLAN порты на коммутаторе для взаимодействия коммутатора с маршрутизатором и подключить IP телефоны.

<img title="" src="https://github.com/user-attachments/assets/885e6a8a-668e-4c51-876e-5ad7876707f2" alt="" width="600"><br/>

- **access vlan 1**: для данных.

- **voice vlan 2**: для голоса.

#### 8. Настроить IP-телефоны, присвоить им номера и соединить с коммутатором.

В CLI маршрутизатора были созданы номера: 1001 и 1002<br/><br/>

<img title="" src="https://github.com/user-attachments/assets/f3383a2d-1913-488d-8de4-ee88c7add8a5" alt="" width="600"><br/><br/>

После этого телефоны автоматически получили IP-адреса от DHCP и зарегистровались в CME.<br/>

#### 9. Проверить звонки между телефонами и проверить остальные сервисы (перевод звонков, конференц-связь, перехват звонка).

Для проверки системы и установленной связи был проведён тестовый звонок с номера 1001 на номер 1002<br/><br/>

<img title="" src="https://github.com/user-attachments/assets/5508c9d3-ad67-48eb-bcb0-58305819227a" alt="" width="600"><br/><br/>

И чтобы точно убедиться, что ошибок не было, в систему был добавлен 3-ий телефон, и звонок к нему также прошёл успешно.<br/><br/>

<img title="" src="https://github.com/user-attachments/assets/0eec9293-6d16-4dd4-bce1-064fcbc173d9" alt="" width="400"><br/><br/>

<img title="" src="https://github.com/user-attachments/assets/aa8fb97e-3a3b-4a3f-9643-9fcffbb27b0f" alt="" width="600"><br/><br/>

#### Итоговая схема

<img title="" src="https://github.com/user-attachments/assets/c5d2bb82-594c-4cc5-99dc-15c5ab712879" alt="" width="600"><br/><br/>

### Вывод:

В данной работе мы познакомились с базовой настройкой устройств в Cisco Packet Tracer и построили две схемы сетей, в которой настроили связанность всех конечных устройств: ПК и IP-телефонов соответственно.
